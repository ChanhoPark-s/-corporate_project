<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
<mapper namespace="com.spring.mapper.ClientMapper">
  
	<select id="GetAll" resultType="com.spring.domain.ClientVO" parameterType="string">
		select * from client
		<if test="value == 1">
		where category = #{value}
		</if>
		<if test="value == 0">
		where category = #{value} 
		</if>
		order by no desc
	</select>

	<insert id="insert">
		insert into client values(client_seq.nextval,#{code},#{category},#{name},#{owner},#{tel},#{fax},#{bank},#{account},#{zipcode},#{address1},#{address2},#{email})
	</insert>
	
	<select id="selectOne" resultType="com.spring.domain.ClientVO" parameterType="string">
		select * from client where no = #{value}
	</select>
	
	<update id="update">
		update client set code = #{code},category = #{category}, name = #{name}, owner= #{owner}, tel = #{tel}, fax = #{fax}, bank = #{bank} , account = #{account}, zipcode = #{zipcode}, address1 = #{address1}, address2 = #{address2}, email = #{email} 
		where no = #{no}
	</update>
	
	<delete id="deleteOne">
		delete client where no = #{value}
	</delete>
	
	<select id="getAllCount" resultType="int">
		select count(*) from client 
		<if test="whatCloumn=='code'">where code= #{keyword}</if>
		<if test="whatCloumn=='category'">where category= #{keyword}</if>
		<if test="whatCloumn=='name'">where name= #{keyword}</if>
		<if test="whatCloumn=='owner'">where owner= #{keyword}</if>
		<if test="whatCloumn=='tel'">where tel= #{keyword}</if>
		<if test="whatCloumn=='fax'">where fax= #{keyword}</if>
		<if test="whatCloumn=='bank'">where bank= #{keyword}</if>
		<if test="whatCloumn=='account'">where account= #{keyword}</if>
		<if test="whatCloumn=='zipcode'">where zipcode= #{keyword}</if>
		<if test="whatCloumn=='address1'">where address1= #{keyword}</if>
		<if test="whatCloumn=='address2'">where address2= #{keyword}</if>
		<if test="whatCloumn=='email'">where email= #{keyword}</if>
	</select>
</mapper>